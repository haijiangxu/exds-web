# “国网代购电价格”页面优化项汇总

本文档记录了“国网代购电价格”页面在性能和用户体验方面的主要问题及优化方向。

## 1. 性能问题

-   **问题描述**: 后端 API (`GET /api/v1/prices/sgcc`) 设计不佳。每次请求（包括翻页）都会重复查询并返回**全部**的历史图表数据，导致响应缓慢且浪费资源。
-   **优化方向**:
    -   将该 API 拆分为两个：一个仅用于获取表格的分页数据，另一个专门用于一次性获取图表数据。
    -   优化前端代码，使其在页面加载时请求一次图表数据，在翻页时只请求分页数据。

## 2. 移动端体验问题

### 2.1. 数据表格不适配

-   **问题描述**: `DataGrid` 组件在手机等小屏幕设备上显示效果很差，内容会溢出或被压缩，无法正常使用。
-   **优化方向**:
    -   采用响应式设计，在移动端用“卡片列表”替代 `DataGrid`。每一行数据渲染成一个独立的卡片，垂直排列，以适应小屏幕的浏览方式。

### 2.2. 图表功能缺失

-   **问题描述**: 页面中的历史趋势图表不符合项目规范，缺少移动端的“横屏最大化”查看功能。
-   **优化方向**:
    -   开发一个可复用的图表包装组件 (`ResponsiveChartWrapper`)。
    -   该组件将为图表提供一个“最大化”按钮，点击后可进入横屏全屏模式，并提供退出机制。

### 2.3. 指标卡片布局

-   **问题描述**: 顶部的指标卡片在小屏幕上的布局可能不是最优。
-   **优化方向**:
    -   检查并确保 `Grid` 布局的断点设置正确，使卡片在移动端能自动切换为单列垂直排列。
